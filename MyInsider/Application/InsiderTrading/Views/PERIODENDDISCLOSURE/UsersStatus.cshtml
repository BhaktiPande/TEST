@model InsiderTrading.Models.PriodEndSearchViewModel
@{
    ViewBag.Title = "Users Status";
}

@*@Styles.Render("~/content/SW360")*@
@Scripts.Render("~/Content/jquery-ui.css")

<!-- Content Header -->
<section class="content-header">    
    @Html.AntiForgeryToken()    
    <h1>@InsiderTrading.Common.Common.getResource("dis_ttl_17144")</h1>
</section>

<!-- Main content -->

    <section class="content search" gridtype="@ViewBag.GridType">
        <!-- Search form content -->
        <button type="button" data-toggle="collapse" class="btn btn-success" data-target="#filter-panel">
            <i class="fa fa-search"> @InsiderTrading.Common.Common.getResource("com_btn_14005")</i>
        </button><div class="div-spacer"></div><br />
            <div id="filter-panel" class="collapse filter-panel">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card panel-default">
                            <div class="card-body">
                                <form role="form">
                                    <!-- form field row 1 -->
                                    @*<div class="row">
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17145"))
                                                @Html.DropDownList("financialyear", new SelectList(ViewBag.FinancialYearDropDown, "Key", "Value", ViewBag.LastPeriodEndYear), new { @class = "form-control", gridtype = @ViewBag.GridType, id = "1" })
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17146"))
                                                @Html.DropDownList("financialperiod", new SelectList(ViewBag.PeriodDropDown, "Key", "Value", ViewBag.LastPeriodEndPeriod), new { @class = "form-control", gridtype = @ViewBag.GridType, id = "2" })
                                            </div>
                                        </div>
                                    </div>*@

                                    @Html.Hidden("1", "")
                                    @Html.Hidden("2", "")
                                    <!-- form field row 2 -->
                                    <div class="row">
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17147"))
                                                @Html.TextBoxFor(m => m.employeeid, "", new { @class = "form-control", gridtype = @ViewBag.GridType, id = "3" })
                                                @Html.ValidationMessageFor(m => m.employeeid)
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17148"))
                                                @Html.TextBoxFor(m => m.insidername, "", new { @class = "form-control", gridtype = @ViewBag.GridType, id = "4" })
                                                @Html.ValidationMessageFor(m => m.insidername)
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group ui-widget">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17149"))
                                                @Html.TextBoxFor(m => m.designation, "", new { @class = "form-control ui-autocomplete input", gridtype = @ViewBag.GridType, id = "5", autocomplete = "off" })
                                                @Html.Hidden("DesignationAC", "yes")
                                                @Html.Hidden("DesignantionListURL", Url.Action("GetDesignationList", "PeriodEndDisclosure"))
                                                @Html.ValidationMessageFor(m => m.designation)
                                            </div>
                                        </div>
                                    </div>

                                    <!-- form field row 3 -->
                                    <div class="row">
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group" id="sandbox-container">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17150"))
                                                <div class="input-group date" id="applicablefromdate" data-date-format="dd/mm/yyyy">
                                                    @Html.TextBoxFor(m => m.tradingsubmittedfrom, "", new { @class = "form-control", gridtype = @ViewBag.GridType, id = "6" })
                                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group" id="sandbox-container">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17151"))
                                                <div class="input-group date" id="applicablefromdate" data-date-format="dd/mm/yyyy">
                                                    @Html.TextBoxFor(m => m.tradingsubmittedto, "", new { @class = "form-control", gridtype = @ViewBag.GridType, id = "7" })
                                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17152"))
                                                @Html.DropDownListFor(m => m.tradingsubmittedstatus, new SelectList(ViewBag.TradingSubmittedStatus, "Key", "Value", ""), new { @class = "form-control", gridtype = @ViewBag.GridType, id = "8" })
                                            </div>
                                        </div>
                                    </div>

                                    <!-- form field row 4 -->
                                    <div class="row">
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group" id="sandbox-container">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17153"))
                                                <div class="input-group date" id="applicablefromdate" data-date-format="dd/mm/yyyy">
                                                    @Html.TextBoxFor(m => m.softcopysubmittedfrom, "", new { @class = "form-control", gridtype = @ViewBag.GridType, id = "9" })
                                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group" id="sandbox-container">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17154"))
                                                <div class="input-group date" id="applicablefromdate" data-date-format="dd/mm/yyyy">
                                                    @Html.TextBoxFor(m => m.softcopysubmittedto, "", new { @class = "form-control", gridtype = @ViewBag.GridType, id = "10" })
                                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17155"))
                                                @Html.DropDownListFor(m => m.softcopysubmittedstatus, new SelectList(ViewBag.SoftCopySubmittedStatus, "Key", "Value", ""), new { @class = "form-control", gridtype = @ViewBag.GridType, id = "11" })
                                            </div>
                                        </div>
                                    </div>

                                    <!-- form field row 5 -->
                                    <div class="row">
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group" id="sandbox-container">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17156"))
                                                <div class="input-group date" id="applicablefromdate" data-date-format="dd/mm/yyyy">
                                                    @Html.TextBoxFor(m => m.hardcopysubmittedfrom, "", new { @class = "form-control", gridtype = @ViewBag.GridType, id = "12" })
                                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group" id="sandbox-container">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17157"))
                                                <div class="input-group date" id="applicablefromdate" data-date-format="dd/mm/yyyy">
                                                    @Html.TextBoxFor(m => m.hardcopysubmittedto, "", new { @class = "form-control", gridtype = @ViewBag.GridType, id = "13" })
                                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17158"))
                                                @Html.DropDownListFor(m => m.hardcopysubmittedstatus, new SelectList(ViewBag.HardCopySubmittedStatus, "Key", "Value", ""), new { @class = "form-control", gridtype = @ViewBag.GridType, id = "14" })
                                            </div>
                                        </div>
                                    </div>

                                    <!-- form field row 6 -->
                                    <div class="row">
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17159"))
                                                <div class="input-group date" id="applicablefromdate" data-date-format="dd/mm/yyyy">
                                                    @Html.TextBoxFor(m => m.stockexchangesubmittedfrom, "", new { @class = "form-control", gridtype = @ViewBag.GridType, id = "15" })
                                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17160"))
                                                <div class="input-group date" id="applicablefromdate" data-date-format="dd/mm/yyyy">
                                                    @Html.TextBoxFor(m => m.stockexchangesubmittedto, "", new { @class = "form-control", gridtype = @ViewBag.GridType, id = "16" })
                                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_17161"))
                                                @Html.DropDownListFor(m => m.stockexchangesubmittedstatus, new SelectList(ViewBag.StockExchangeSubmittedStatus, "Key", "Value", ""), new { @class = "form-control", gridtype = @ViewBag.GridType, id = "17" })
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_50620"))
                                                @Html.TextBoxFor(m => m.EmpPAN, "", new { @class = "form-control", gridtype = @ViewBag.GridType, id = "18" })
                                                @Html.ValidationMessageFor(m => m.EmpPAN)
                                            </div>
                                        </div>

                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="form-group">
                                                @Html.Label(@InsiderTrading.Common.Common.getResource("dis_lbl_50618"))
                                                @Html.DropDownListFor(m => m.EmployeeStatus, new SelectList(ViewBag.EmployeeStatus, "Key", "Value", ""), new { @class = "form-control", gridtype = @ViewBag.GridType, id = "19" })
                                            </div>
                                        </div>
                                    </div>

                                    <!-- form buttons -->
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                            <button type="button" class="btn btn-success" id="btnSearch"><i class="fa fa-search"> @InsiderTrading.Common.Common.getResource("com_btn_14005")</i></button>
                                            <button type="button" class="btn btn-success" id="btnReset" dt_name="btnReset" dt_gridtype="@ViewBag.GridType"><i class="fa fa-undo"> @InsiderTrading.Common.Common.getResource("com_btn_14006")</i></button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Search result content -->
            @if (ViewData["inp_sParam"] == "154002" && ViewData["IsInsider"] == "true" && ViewData["IsInsider"] == "TradeDetailsInsider")
            {
                Html.RenderAction("Index", "DatatableGrid", new { type = @ViewBag.GridType, btnSearch = "btnSearch", sSortCol = "", acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE });

                @Html.Hidden("summarylink", Url.Action("Summary", "PeriodEndDisclosure", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE }))

                @Html.Hidden("softcopylink", Url.Action("CreateLetter", "TradingTransaction", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE_LETTER_SUBMISSION, nDisclosureTypeCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureTypePeriodEnd, nLetterForCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureLetterUserInsider }))
                @Html.Hidden("softcopyviewlink", Url.Action("ViewLetter", "TradingTransaction", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE_LETTER_SUBMISSION, nDisclosureTypeCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureTypePeriodEnd, nLetterForCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureLetterUserInsider }))

                @Html.Hidden("hardcopylink", Url.Action("UploadHardDocument", "TradingTransaction", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE_LETTER_SUBMISSION, nDisclosureTypeCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureTypePeriodEnd }))
                @Html.Hidden("hardcopyviewlink", Url.Action("ViewHardCopy", "TradingTransaction", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE_LETTER_SUBMISSION, nDisclosureTypeCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureTypePeriodEnd, CalledFrom = "PeriodEndCO" }))

                @Html.Hidden("stockexchangecopylink", Url.Action("CreateLetter", "TradingTransaction", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE_STOCK_EXCHANGE_SUBMISSION, nDisclosureTypeCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureTypePeriodEnd, nLetterForCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureLetterUserCO, IsStockExchange = true }))
                @Html.Hidden("stockexchangecopyviewlink", Url.Action("ViewLetter", "TradingTransaction", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE_STOCK_EXCHANGE_SUBMISSION, nDisclosureTypeCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureTypePeriodEnd, nLetterForCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureLetterUserCO }))

                @Html.Hidden("periodendhistorylink", Url.Action("PeriodStatus", "PeriodEndDisclosure", new { acid = ViewBag.activity_id }));

                @Html.Hidden("historylink", Url.Action("PeriodStatus", "PeriodEndDisclosure", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE }), new { @class = "gridtypecontrol", ctrtype = "link", gridcolumntype = @ViewBag.GridType + "_dis_grd_17394", param = "{'text':'','href':'" + Url.Action("PeriodStatus", "PeriodEndDisclosure", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE }) + "&year=<YearCodeId>&uid=<UserInfoId>','class':'display-icon icon icon-eye'}" })
            }
            else
            {
                Html.RenderAction("Index", "DatatableGrid", new { type = @ViewBag.GridType, inp_sParam = @ViewData["inp_sParam"], IsInsider = @ViewData["IsInsider"], btnSearch = "btnSearch", sSortCol = "", acid = InsiderTrading.Common.ConstEnum.UserActions.INSIDER_INSIDERUSER_VIEW, bIsActionCol = false });
                @Html.Hidden("summarylink", Url.Action("Summary", "PeriodEndDisclosure", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE }))

                @Html.Hidden("softcopylink", Url.Action("CreateLetter", "TradingTransaction", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE_LETTER_SUBMISSION, nDisclosureTypeCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureTypePeriodEnd, nLetterForCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureLetterUserInsider }))
                @Html.Hidden("softcopyviewlink", Url.Action("ViewLetter", "TradingTransaction", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE_LETTER_SUBMISSION, nDisclosureTypeCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureTypePeriodEnd, nLetterForCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureLetterUserInsider }))

                @Html.Hidden("hardcopylink", Url.Action("UploadHardDocument", "TradingTransaction", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE_LETTER_SUBMISSION, nDisclosureTypeCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureTypePeriodEnd }))
                @Html.Hidden("hardcopyviewlink", Url.Action("ViewHardCopy", "TradingTransaction", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE_LETTER_SUBMISSION, nDisclosureTypeCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureTypePeriodEnd, CalledFrom = "PeriodEndCO" }))

                @Html.Hidden("stockexchangecopylink", Url.Action("CreateLetter", "TradingTransaction", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE_STOCK_EXCHANGE_SUBMISSION, nDisclosureTypeCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureTypePeriodEnd, nLetterForCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureLetterUserCO, IsStockExchange = true }))
                @Html.Hidden("stockexchangecopyviewlink", Url.Action("ViewLetter", "TradingTransaction", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE_STOCK_EXCHANGE_SUBMISSION, nDisclosureTypeCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureTypePeriodEnd, nLetterForCodeId = InsiderTrading.Common.ConstEnum.Code.DisclosureLetterUserCO }))

                @Html.Hidden("periodendhistorylink", Url.Action("PeriodStatus", "PeriodEndDisclosure", new { acid = ViewBag.activity_id }));

                @Html.Hidden("historylink", Url.Action("PeriodStatus", "PeriodEndDisclosure", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE }), new { @class = "gridtypecontrol", ctrtype = "link", gridcolumntype = @ViewBag.GridType + "_dis_grd_17394", param = "{'text':'','href':'" + Url.Action("PeriodStatus", "PeriodEndDisclosure", new { acid = InsiderTrading.Common.ConstEnum.UserActions.CO_DISCLOSURE_DETAILS_PERIOD_END_DISCLOSURE }) + "&year=<YearCodeId>&uid=<UserInfoId>','class':'display-icon icon icon-eye'}" })
            }

            @{if (ViewBag.BackButton)
            {
                <a href="@ViewBag.BackURL">
                    <button type="button" class="btn btn-success cancel showSelectedMenus" parentmenuid="43-MENU" childmenuid="43-MENU-43-MENU" id="Cancel" name="Cancel">
                        <i class="fa fa-times"></i> @InsiderTrading.Common.Common.getResource("com_btn_14011")
                    </button>
                </a>
            }
            }

</section>
</form>
    @Scripts.Render("~/bundles/PeriodEndDisclosure")
