@model InsiderTrading.Models.PreclearanceRequestModel
@{
    ViewBag.Title = "PreclearanceRejectionView";
}

<section class="content-header">    
    @Html.AntiForgeryToken()
    <h1>PRECLEARANCE REQUEST</h1>
</section>
<section class="content">
    @Html.ValidationSummary("", new Dictionary<string, object> { { "class", "alert alert-danger" }, { "id", "divValidationSummaryModal" } })
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                @Html.HiddenFor(m => m.PreclearanceRequestId)
                <div class="panel-body">
                    <div class="row">
                        <div class="col-xs-6 form-group row">
                            <div class="col-xs-6">
                                @Html.LabelFor(m => m.UserName)
                            </div>
                            <div class="col-xs-6">
                                @Html.DisplayFor(m => m.UserName)
                            </div>
                        </div>
                        <div class="col-xs-6 form-group row">
                            <div class="col-xs-6">
                                @Html.LabelFor(m => m.CompanyName)
                            </div>
                            <div class="col-xs-6">
                                @Html.DisplayFor(m => m.CompanyName)
                            </div>
                        </div>
                        <div class="col-xs-6 form-group row">
                            <div class="col-xs-6">
                                @Html.LabelFor(m => m.PreClearanceFor)
                            </div>
                            <div class="col-xs-6">
                                @Html.DisplayFor(m => m.PreClearanceFor)
                            </div>
                        </div>
                        @{
                        if (Model.UserInfoIdRelative != null && Model.UserInfoIdRelative > 0) {
                        <div class="col-xs-6 form-group row">
                            <div class="col-xs-6">
                                @Html.LabelFor(m => m.RelativeName)
                            </div>
                            <div class="col-xs-6">
                                @Html.DisplayFor(m => m.RelativeName)
                            </div>
                        </div>
                        }
                        }
                        <div class="col-xs-6 form-group row">
                            <div class="col-xs-6">
                                @Html.LabelFor(m => m.EmployeeId):
                            </div>
                            <div class="col-xs-6">
                                @Html.DisplayFor(m => m.EmployeeId)
                            </div>
                        </div>

                        <div class="col-xs-6 form-group row">
                            <div class="col-xs-6">
                                @Html.LabelFor(m => m.PreClearanceRequestedDate):
                             </div>
                            <div class="col-xs-6">
                                @InsiderTrading.Common.Common.ApplyFormatting(Model.PreClearanceRequestedDate, InsiderTrading.Common.ConstEnum.DataFormatType.Date)
                            </div>
                        </div>

                        <div class="col-xs-6 form-group row">
                            <div class="col-xs-6">
                                @Html.LabelFor(m => m.TransactionTypeText):
                            </div>
                            <div class="col-xs-6">
                                @Html.DisplayFor(m => m.TransactionTypeText)
                            </div>
                        </div>
                        <div class="col-xs-6 form-group row">
                            <div class="col-xs-6">
                                    @Html.LabelFor(m => m.SecurityTypeText):
                            </div>
                            <div class="col-xs-6">
                               @Html.DisplayFor(m => m.SecurityTypeText)
                            </div>
                        </div>
                        <div class="col-xs-12 form-group row">
                            <div class="col-xs-3">
                                    <label>Securities proposed to be bought:  </label>
                            </div>
                            <div class="col-xs-3">
                                 @Html.DisplayFor(m => m.SecuritiesToBeTradedQty)
                            </div>
                        </div>
                        <div class="col-xs-6 form-group row">
                            <div class="col-xs-6">
                                @Html.LabelFor(m => m.ReasonForRejection)
                              
                                </div>
                                <div class="col-xs-6">
                                    @Html.DisplayFor(m => m.ReasonForRejection, new { @class = "form-control" })
                                </div>
                        </div>

                        <div class="col-xs-12 form-group row">
                            <div>

                                @{
                                    //if (@ViewBag.CalledFrom == "Edit")
                                    //{
                                    if (@ViewBag.PreClrUPSIDeclarationMessage != null && @ViewBag.PreClrUPSIDeclarationMessage != "")
                                    {
                                        <div class="row">
                                            <div class="col-lg-1">
                                                <div class="col-xs-6">
                                                    @*@Html.CheckBox("agree", new { @class = "cr-check enabled:false" })*@
                                                    <input type="checkbox" disabled="disabled" checked="checked"> 
                                                </div>
                                            </div>
                                            <div class="col-lg-10 col-md-11 col-sm-6 col-xs-12">
                                                <div class="form-group ax_shape">
                                                    <label class="normalLable">
                                                        @*@InsiderTrading.Common.Common.getResource("dis_lbl_17088")*@
                                                        @Html.Raw(@ViewBag.PreClrUPSIDeclarationMessage);
                                                        @*In this connection, I hereby confirm that: <br />
                                    1. I/my immediate relative(s) do not have any access nor have received or obtained access to or in possession of any Unpublished Price Sensitive Information relating to the Bank and/or its securities, till the time of signing of this application.<br />
                                    2. I unconditionally and irrevocably undertake on behalf of myself and on behalf of my immediate relative (s) that if, I gain access to or receive any unpublished price sensitive information as aforesaid after the signing of this application but before the execution of the transaction(s), I shall forthwith inform the Compliance Officer of the same. I and my Immediate Relative (s) would not deal in the securities of the Bank till the time such unpublished price sensitive information becomes public.<br />
                                    3. I / my immediate relative (s) have not contravened the Code of Conduct to Regulate, Monitor and Report Trading by Insiders, in any manner whatsoever and that the proposed trade would not be in violation of SEBI Insider Trading Regulations, 2015.<br />
                                    4. I have made full and true disclosure in the matter.<br />
                                    5. I further confirm that, in case the pre-clearance is granted, the said shares/securities of the Bank will be sold/purchased within seven trading days of the receipt of
                                    pre-clearance and the details of such sale/purchase shall be intimated to the Bank within two trading days from the date of execution of trade.
                                                        *@
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    }
    //}
                                }
                            </div>
                            </div>

                            <div class="col-xs-12 form-group row">

                                <div class="col-xs-3">

                                    <a class="btn btn-success" data-toggle="modal" href='@Url.Action("backButtonAction", "PreclearanceRequest", new { CalledFrom = ViewBag.CalledFrom })' role="button"><i class="fa fa-chevron-left"></i>   Back</a>
                                </div>
                            </div>
                        </div>
                        <!-- /.panel-body -->
                    </div>
            <!-- /.panel -->
        </div>
        <!-- /.col-lg-12 -->
    </div>
        <input type="hidden" name="CalledFrom" id="CalledFrom" value="@ViewBag.CalledFrom" />
</section><!-- /.content -->